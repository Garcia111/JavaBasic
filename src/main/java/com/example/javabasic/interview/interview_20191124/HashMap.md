HashMap

   一定要看下面的文章啊
   https://mp.weixin.qq.com/s/lV4sp7S_c423pamK_yMadQ

  Q1:HashMap初始大小默认设置为16，为2的幂次，后面在扩容时，都是以2的倍数来扩容。
    为什么非要将HashMap的大小控制为2的幂次？


    原因1： 降低发生碰撞的概率，使散列更加均匀。根据key的Hash值计算下标位置时，使用“与”运算公式：
            hash(key)*(length-1)，当哈希表长度为2的幂次时，等同于使用表长度对Hash值取模，散列更加均匀；

    原因2：  表的长度为2的幂次，那么（length-1）的二进制最后一位一定是1，在对Hash值做“与”运算时，最后一位
            就可能为1，也可能为0，1&1=1,1&0=0,取模结果既有偶数，又有奇数。如果（length-1）为偶数，那么“与”
            运算后的值只能是0，奇数下标的bucket就永远散列不到，会浪费一半空间。

    相比JDK7,HashMap在JDK8中做链表结构做了优化（但是仍然线程不安全），在一定条件下将链表转为红黑树，提升查询效率。