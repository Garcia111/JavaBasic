会话管理

    如何标记唯一的客户？
  1.使用IP地址可以吗？
  
        容器确实可以得到请求的IP地址，但是IP地址并不能够唯一地标识客户。例如，如果你在一个局域网中，你的电脑会有唯一的IP
        地址，但是这个IP地址与外界中的容器看到的IP地址是不同的。对于服务器来说，你的IP地址是路由器的地址，所以你和这个局域网
        中其他人的IP地址是一样的。因此，IP地址不能唯一的标识Internet上的特定客户。
  
  2. 使用HTTPS呢？如果用户登录，而且连接是安全的（HTTPS）,容器就能准确地知道是哪一个客户
  
         如果用户登录，并且连接是安全的。容器就能认出客户，并将它与一个会话关联。但是，这个条件一般不能满足：
         因为：大多数好的网站设计都指出，除非确实有必要，否要不应该要求用户登录；除非确实有意义，否则不要使用HTTPS
        
         如果用户只是想要浏览一下，就算是用户确实向购物车里面增加商品。在用户真正决定结账之前，你可能并不想让系统对
         他们进行身份认证。
         
 
 客户需要一个唯一的会话ID       
       
       对客户的第一个请求，容器会生成一个唯一的会话ID，并且通过响应将其返回给客户。客户在以后的每一个请求中会发回这个会话
       ID，容器看到ID之后，就会找到匹配的会话，并且将这个会话与请求关联。
       
     
容器与客户使用Cookie交换会话ID信息
     
        容器发回给浏览器的响应头中包含字段：Set-Cookie:JESSIONID = 0AAB6C8DE415
        浏览器再向容器请求时，请求头中包含字段：Cookie: JESSIONID = 0AAB6C8DE415
        
 浏览器与容器交换会话ID的过程 
 
        创建一个会话：服务器需要告诉容器想要创建一个会话，但是除此之外：创建会话ID 创建新的Cookie对象
        将会话ID添加到Cookie对象，将cookie设置为响应的一部分 等工作内容都将由容器负责。
        创建方式：HttpSession session = request.getSession();
        
        使用一个会话：服务器端需要从请求中取得session,容器会从请求中的cookie得到会话ID，将这个会话ID与一个
        现有的会话相匹配，并将回话与当前请求关联。
        使用方式：HttpSession session = request.getSession();
        
        Cookie的所有工作都在后台进行
        IF(请求中包含一个会话ID cookie){
            找到与该ID匹配的会话；
        }ELSE IF（请求中没有会话ID cookie 或者 没有与此会话ID匹配的当前会话）{
            创建一个新的会话；
        }
        
        
Cookie与Session
    